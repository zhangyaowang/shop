<!DOCTYPE HTML>
<html>
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
  <meta charset="UTF-8">

  <meta name="description" content="">
  <meta name="keywords" content="">

  <title>注册</title>

  <link rel="shortcut icon" href="favicon.ico">
  {load href="__CSS__/grid.css" /}
	{load href="__CSS__/jquery.jqzoom.css" /}
	{load href="__CSS__/style.css" /}
 
  <script src="/static/js/jquery-1.7.2.min.js" ></script>
  <script src="/static/js/html5.js" ></script>
  <script src="/static/js/jflow.plus.js"></script>
  <script src="/static/js/jquery.carouFredSel-5.2.2-packed.js"></script>
  <script src="/static/js/checkbox.js"></script>
  <script src="/static/js/radio.js"></script>
  <script src="/static/js/selectBox.js"></script>

  <script>
	$(document).ready(function() {
		$("select").selectBox();
	});
  </script>

  <script>
	$(document).ready(function(){
		$("#myController").jFlow({
			controller: ".control", // must be class, use . sign
			slideWrapper : "#jFlowSlider", // must be id, use # sign
			slides: "#slider",  // the div where all your sliding divs are nested in
			selectedWrapper: "jFlowSelected",  // just pure text, no sign
			width: "984px",  // this is the width for the content-slider
			height: "480px",  // this is the height for the content-slider
			duration: 400,  // time in miliseconds to transition one slide
			prev: ".slidprev", // must be class, use . sign
			next: ".slidnext", // must be class, use . sign
			auto: true	
		});
	});
  </script>
  <script>
	$(function() {
	  $('#list_product').carouFredSel({
		prev: '#prev_c1',
		next: '#next_c1',
		auto: false
	  });
          $('#list_product2').carouFredSel({
		prev: '#prev_c2',
		next: '#next_c2',
		auto: false
	  });
	  $('#list_banners').carouFredSel({
		prev: '#ban_prev',
		next: '#ban_next',
		scroll: 1,
		auto: false
	  });
	  $(window).resize();
	});
  </script>
  <script>
       $(document).ready(function(){
	      $("button").click(function(){
		     $(this).addClass('click')
	      });             
       })
  </script>
    <style type="text/css">
    	form.registed input[type="password"]{
			width: 255px;
			margin: 5px 0 13px 0;
		}
		input[type="password"]{
			height: 33px;
			padding: 0 10px;
			border: 1px solid #ccc;
			color: #777;
			border-radius: 2px;
			-moz-border-radius: 2px;
			-khtml-border-radius: 2px;
			behavior: url(PIE.htc);
		}
    </style>
    <script type="text/javascript">
    	$(function(){
    		//验证账号
    		$('input[name=name]').focusout(function name(){
    			var name = $(this).val();
    			var user = /^[a-zA-Z]\w{5,11}$/;
    			//验证账户是否重复
    			$.ajax({
    				type:"post",
    				url:"{:url('index/find')}",
    				data:{name:name},
    				success:function(res){
    					if(res>0){
    						$('#name').text('账号已存在').attr('style','color:red;');
    					}
		  			}
    			});
    			if(name.length<1){
    				$('#name').text('账号不能为空').attr('style','color:red;');
    				return false;
    			}else if(name.length<6 || name.length>12){
    				$('#name').text('账号长度为6-12位').attr('style','color:red;');
    				return false;
    			}else if(!user.test(name)){
    				$('#name').text('账号必须是字母开头不能包括汉字').attr('style','color:red;font-size: 10px;');
    				return false;
    			}else{
    				$('#name').text('账号正确').attr('style','color:green;');
    				return true;
    			}
    		});
    		//验证手机号
    		$('input[name=phone]').focusout(function(){
    			var phone = $(this).val();
    			var user = /^1[3-9]\d{9}$/;
    			if(phone.length<1){
    				$('#phone').text('手机号不能为空').attr('style','color:red;');
    				return false;
    			}else if(!user.test(phone)){
    				$('#phone').text('请输入正确的手机号').attr('style',"color:red;");
    				return false;
    			}else{
    				$('#phone').text('√').attr('style',"color:green;");
    				return true;
    			}
    		});
    		//验证密码
    		$('#pass1').focusout(function(){
    			pass1 = $(this).val();
    			if(pass1.length<1){
    				$('#password').text('密码必填').attr('style','color:red;');
    				return false;
    			}else if(pass1.length>0){
    				$('#password').text('√').attr('style','color:green;');
    				return true;
    			}
    		});
    		$('#pass2').focusout(function(){
    			pass2 = $(this).val();
    			if(pass1 != pass2){
    				$('#confirm').text('两次密码不一致').attr('style','color:red;');
    				return false;
    			}else if(pass2.length<1){
    				$('#confirm').text('密码必填').attr('style','color:red;');
    				return false;
    			}else if(pass1 == pass2){
    				$('#confirm').text('√').attr('style','color:green;');
    				return true;
    			}
    		});
	    	
	    	
    	})
    </script>
    
</head>
<body>
  {include file="index/menu2"}
  <div class="clear"></div>
  
  <section id="main" class="entire_width">
    <div class="container_12">      
       <div id="content">
		<div class="grid_12">
			<h1 class="page_title">注册账户</h1>
		</div><!-- .grid_12 -->
		<div class="grid_6 new_customers">
			<form action="{:url('index/index')}" method="post">
				<button style="background: #fff;width:auto;height: auto;"><img src="/static/images/logo.png" /></button>
       </form>
			</div><!-- .grid_6 -->
		
		<div class="grid_6">
			<form class="registed" onsubmit="return false" id="myform">
							
				<p>如果您有我们的账户,请直接<a href="{:url('index/login')}">登陆</a></p>
							
				<div class="email">
					<strong>账号:</strong><sup class="surely">*</sup><br/>
					<input type="text" name="name" class="" value="" /><span id="name" style="color: red;"></span>
				</div><!-- .email -->
				
				<div class="email">
					<strong>手机号:</strong><sup class="surely">*</sup><br/>
					<input type="text" name="phone" class="" value="" /><span id="phone" style="color: red;"></span>
				</div><!-- .email -->
							
				<div class="email">
					<strong>密码:</strong><sup class="surely">*</sup><br/>
					<input type="password" name="password" id="pass1" value="" /><span id="password" style="color: red;"></span>
				</div><!-- .password -->
				
				<div class="email">
					<strong>确认密码:</strong><sup class="surely">*</sup><br/>
					<input type="password" name="password-confirm" id="pass2" value="" /><span id="confirm" style="color: red;"></span>
				</div><!-- .password -->
				
				<div class="email">
					<strong>验证码:</strong><sup class="surely">*</sup><br/>
					<input type="text" name="code" id="pass2" value="" style="width:70px"/>
					<input type="button" id="btn" value="免费获取验证码" onclick="settime(this)" style="display:inline-block;margin-left: 10px;padding: 10px 10px;"/>
				</div><!-- .password -->
				
				<div class="submit">										
					<input type="submit" value="注册" id="zc"/>
					<sup class="surely">*</sup><span>必填</span>
				</div><!-- .submit -->
			</form><!-- .registed -->
                </div><!-- .grid_6 -->
       </div><!-- #content -->
       
      <div class="clear"></div>
    </div><!-- .container_12 -->
  </section><!-- #main -->
  
  <div class="clear"></div>
    
  {include file="index/menu1"}
 
</body>
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
</html>
<script type="text/javascript">
		//注册提交按钮
		$('#zc').click(function(){
	    		var name = $('input[name=name]').val();
	    		var phone = $('input[name=phone]').val();
	    		var pass = $('#pass1').val();
	    		var pass2 = $('#pass2').val();
	    		if(name==''||phone==""||pass==""||pass2==""||
	    			$('#name').text()=='账号已存在'||$('#name').text()=='账号长度为6-12位' ||
	    			$('#name').text()=='账号不能为空'||$('#name').text()=='账号必须是字母开头不能包括汉字'||
	    			$('#phone').text()=='手机号不能为空'||$('#phone').text()=='请输入正确的手机号'||
	    			$('#pass1').text()=='密码必填'||$('#pass2').text()=='密码必填'||
	    			$('#pass2').text()=='两次密码不一致'||pass!=pass2){
	    		}else{
	    			$.post("{:url('index/con')}",{name:name,phone:phone,password:pass},function(data){
	    				if(data){
	    					location.href="{:url('index/index')}";
	    				}
	    			})
	    		};
	    })
</script>
<script type="text/javascript">
	//手机验证吗
	var phone = $('input[name=phone]').val();
	
	var countdown=60; 
	function settime(obj){
	    if (countdown == 0) { 
	        obj.removeAttribute("disabled");    
	        obj.value="免费获取验证码"; 
	        countdown = 60; 
	        return ;
	    } else { 
	        obj.setAttribute("disabled", true); 
	        obj.value="重新发送(" + countdown + ")"; 
	        countdown--; 
	    }setTimeout(function(){settime(obj)},1000);
	}
	
</script>
